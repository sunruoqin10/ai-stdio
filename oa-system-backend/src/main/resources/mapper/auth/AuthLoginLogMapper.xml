<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.oa_system_backend.module.auth.mapper.AuthLoginLogMapper">

    <select id="selectLogsByUserIdAndDateRange" resultType="com.example.oa_system_backend.module.auth.entity.AuthLoginLog">
        SELECT * FROM auth_login_log
        WHERE user_id = #{userId}
        <if test="startDate != null">
            AND login_time >= #{startDate}
        </if>
        <if test="endDate != null">
            AND login_time &lt;= #{endDate}
        </if>
        ORDER BY login_time DESC
    </select>

    <select id="selectLogsByUsernameAndDateRange" resultType="com.example.oa_system_backend.module.auth.entity.AuthLoginLog">
        SELECT * FROM auth_login_log
        WHERE username = #{username}
        <if test="startDate != null">
            AND login_time >= #{startDate}
        </if>
        <if test="endDate != null">
            AND login_time &lt;= #{endDate}
        </if>
        ORDER BY login_time DESC
    </select>

</mapper>
