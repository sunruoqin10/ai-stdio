# 资产管理模块 - 快速测试指南

## 🚀 快速开始

### 1. 启动开发服务器
```bash
cd oa-system-frontend
npm run dev
```

服务器将在 http://localhost:3002/ 启动

### 2. 访问资产管理模块
在浏览器中打开:
```
http://localhost:3002/asset
```

## ✅ 功能测试清单

### 基础功能测试

#### [ ] 1. 页面加载测试
- 访问 `/asset` 路由
- 检查页面是否正常显示
- 检查统计卡片是否显示正确数据(12个资产)
- 检查默认视图是否为表格视图

#### [ ] 2. 表格视图测试
- 检查是否显示12条资产数据
- 检查图片预览功能
- 检查状态标签颜色是否正确
- 测试滚动和分页

#### [ ] 3. 看板视图测试
- 切换到看板视图
- 检查是否按状态分5列显示
- 测试拖拽功能:
  - 将资产从"库存中"拖到"使用中"
  - 检查状态是否更新
  - 测试非法状态转换(如拖到"已报废"后不能拖回)
- 检查资产卡片信息是否完整

#### [ ] 4. 画廊视图测试
- 切换到画廊视图
- 检查卡片网格布局
- 检查图片显示
- 测试图片预览功能
- 测试响应式布局(调整窗口大小)

#### [ ] 5. 筛选功能测试
- **关键字搜索**:
  - 输入 "MacBook" - 应显示1条结果
  - 输入 "ASSET000001" - 应显示1条结果
- **类别筛选**:
  - 选择 "电子设备" - 应显示7条结果
  - 选择 "办公家具" - 应显示3条结果
- **状态筛选**:
  - 选择 "库存中" - 应显示3条结果
  - 选择 "使用中" - 应显示4条结果
  - 选择 "已借出" - 应显示2条结果
- **重置筛选**: 点击"重置"按钮,检查是否恢复全部数据

### CRUD 操作测试

#### [ ] 6. 新增资产测试
1. 点击"新增资产"按钮
2. 填写表单:
   - 资产名称: 测试资产
   - 资产类别: 电子设备
   - 品牌/型号: Test Model 1
   - 购置日期: 2024-12-01
   - 购置金额: 1000
   - 存放位置: 测试位置
   - 备注: 测试备注
3. 点击"确定"
4. 检查:
   - 是否显示"创建成功"消息
   - 新资产是否出现在列表中
   - 当前价值是否自动计算(约990)

#### [ ] 7. 编辑资产测试
1. 点击任意资产的"编辑"按钮
2. 修改资产名称为 "测试资产-已修改"
3. 点击"确定"
4. 检查:
   - 是否显示"更新成功"消息
   - 资产名称是否已更新

#### [ ] 8. 删除资产测试
1. 选择一个测试资产
2. 点击"删除"按钮
3. 确认删除
4. 检查:
   - 是否显示删除确认对话框
   - 是否显示"删除成功"消息
   - 资产是否从列表中移除

### 借还管理测试

#### [ ] 9. 借出资产测试
1. 找到一个状态为"库存中"的资产
2. 点击"借出"按钮
3. 填写借出信息:
   - 借用人: 选择 张三
   - 预计归还: 选择 2025-01-15
   - 备注: 测试借用
4. 点击"确认借出"
5. 检查:
   - 是否显示"借出成功"消息
   - 资产状态是否变为"已借出"
   - 借用人信息是否显示
   - 归还日期是否显示

#### [ ] 10. 归还资产测试
1. 找到一个状态为"已借出"的资产
2. 点击"归还"按钮
3. 填写归还信息:
   - 资产状态: 选择"完好无损"
   - 备注: 归还备注
4. 点击"确认归还"
5. 检查:
   - 是否显示"归还成功"消息
   - 资产状态是否变为"库存中"
   - 借用人信息是否已清除

#### [ ] 11. 到期提醒测试
- 检查已借出资产:
  - 预期归还日期为 2024-12-30 的资产应显示"即将到期"警告
  - 预期归还日期已过的资产应显示"已逾期"警告

### 详情查看测试

#### [ ] 12. 资产详情测试
1. 点击任意资产的"查看详情"按钮
2. 检查详情抽屉:
   - 基本信息(编号、名称、类别、状态)
   - 图片展示
   - 价值信息(购置金额、当前价值、折旧率)
   - 使用人信息(如果有)
   - 借用信息(如果已借出)
   - 备注信息(如果有)
   - 操作记录(创建时间、更新时间)
3. 测试从详情页点击"编辑"按钮

### 统计功能测试

#### [ ] 13. 统计卡片测试
检查页面顶部的6个统计卡片:
- 总资产: 12
- 库存中: 3
- 使用中: 4
- 借出中: 2
- 维修中: 1
- 当前价值: ¥68,942.67

#### [ ] 14. 图表测试
(注意:统计页面作为独立组件,需要单独集成到主页面或路由)
- 分类饼图
- 状态饼图
- 折旧趋势图
- 借出趋势图

### 边界情况测试

#### [ ] 15. 表单验证测试
- **必填字段验证**:
  - 不填写资产名称,应显示错误提示
  - 不选择资产类别,应显示错误提示
  - 不选择购置日期,应显示错误提示
  - 不输入购置金额,应显示错误提示
- **数据格式验证**:
  - 购置金额不能为负数
  - 预计归还日期不能早于今天

#### [ ] 16. 状态转换测试
在看板视图中测试非法状态转换:
- 尝试将"已报废"资产拖到其他状态(应被阻止)
- 尝试将"已借出"资产拖到"维修中"(应被阻止)
- 检查警告消息是否正确显示

#### [ ] 17. 图片测试
- 点击资产图片缩略图
- 检查是否打开图片预览
- 测试多图片资产的左右切换

## 🐛 常见问题排查

### 问题1: 页面空白
**原因**: 路由配置错误或组件导入失败
**解决**:
1. 检查浏览器控制台是否有错误
2. 确认路由配置正确
3. 确认组件文件存在

### 问题2: 数据不显示
**原因**: Store初始化失败或API调用失败
**解决**:
1. 检查 Network 标签确认API调用
2. 检查 Mock 数据是否正确加载
3. 查看 Console 错误信息

### 问题3: 拖拽不工作
**原因**: vue-draggable-plus 未正确安装或导入
**解决**:
1. 确认已安装: `npm list vue-draggable-plus`
2. 检查组件导入语句
3. 查看浏览器控制台错误

### 问题4: 图表不显示
**原因**: echarts 未正确加载或容器尺寸问题
**解决**:
1. 确认 echarts 已安装
2. 检查容器是否有高度
3. 查看控制台错误信息

## 📊 测试数据参考

### Mock 数据概览
- 总资产数: 12
- 电子设备: 7
- 办公家具: 3
- 图书资料: 2
- 库存中: 3
- 使用中: 4
- 已借出: 2
- 维修中: 1
- 已报废: 1
- 总购置金额: ¥73,170
- 总当前价值: ¥68,942.67

### 示例资产
1. **ASSET000001** - MacBook Pro 16英寸 (使用中)
2. **ASSET000002** - Dell 显示器 27寸 (库存中)
3. **ASSET000003** - 人体工学办公椅 (已借出, 2024-12-30到期)
4. **ASSET000006** - HP 激光打印机 (维修中)
5. **ASSET000012** - 投影仪 (已报废)

## ✅ 测试完成标准

所有测试项通过后,资产管理模块可以认为已正常工作:

- ✅ 页面正常加载
- ✅ 三种视图正常切换
- ✅ CRUD 操作正常
- ✅ 借还功能正常
- ✅ 筛选搜索正常
- ✅ 拖拽功能正常
- ✅ 详情查看正常
- ✅ 表单验证正常
- ✅ 统计数据正确

---

**测试时间**: 约30-45分钟
**测试环境**: 开发环境 (http://localhost:3002)
**测试数据**: Mock 数据 (12条资产)
